# 安装流程
## 下载go

移除旧版 Go

sudo apt-get remove golang-go

下载最新版 Go（示例为 1.22.2）

wget https://go.dev/dl/go1.22.2.linux-amd64.tar.gz

sudo tar -C /usr/local -xzf go1.22.2.linux-amd64.tar.gz

配置环境变量

echo 'export PATH=$PATH:/usr/local/go/bin' >> ~/.bashrc

source ~/.bashrc

验证版本

go version


设置go代理模块代理为阿里云

go env -w GOPROXY=https://mirrors.aliyun.com/goproxy/,direct 

允许私有仓库（如有）

go env -w GONOSUMDB=*

go env -w GONOPROXY=*

## 设置代理

export http_proxy=http://192.168.88.1:7890

export https_proxy=http://192.168.88.1:7890

git config --global http.proxy http://192.168.88.1:7890

git config --global https.proxy http://192.168.88.1:7890

保证访问1：

curl -v https://proxy.golang.org

测试通过代理访问（需要保证代理服务运行）

curl -v http://www.google.com

保证go能够被找到

sudo visudo

在文件末尾添加内容

Defaults        secure_path="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin:/usr/local/go/bin"

Defaults        env_keep += "PATH"

sudo -E go version  # 应输出 go1.22.2

ls /usr/local/go/bin/go #存在可执行文件

## 下载编译源码

sudo apt-get install git

git clone https://github.com/polycube-network/polycube

cd polycube

git submodule update --init --recursive

./scripts/install.sh


## 安装成功检测
使用自动安装脚本构建最后输出

installing polycubectl ...

Installation completed successfully

-- Installing: /usr/share/bash-completion/completions/polycubectl

+ success_message
+ 
+ set +x

Installation completed successfully

You can now start the polycube daemon:

  manually:     sudo polycubed -d

  with systemd: sudo systemctl start polycubed

and then interact with it using the Polycube command line:

  polycubectl -h

root@ubuntu:~/polycube# 

下面是一些额外操作来检测安装成功

sudo systemctl start polycubed 

sudo systemctl status polycubed

sudo systemctl enable polycubed 开机自启动

root@ubuntu:~/polycube# which polycubectl 

/usr/local/bin/polycubectl

root@ubuntu:~/polycube# polycubectl version

polycubectl:

 version: v0.9.0+ [git: (branch/commit): master/a143e3c0-dirty]

polycubed:

 version: v0.9.0+ [git: (branch/commit): master/a143e3c0-dirty]

root@ubuntu:~/polycube# 



# 学习心得
 









